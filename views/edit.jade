extends layout

block content
  h3 #{game.gameName}の編集

  form(method="post" action="/games/#{game.gameId}?edit=1")
    div
      label(for="gameName") ゲームネーム
      input(id="gameName" type="text" name="gameName" value="#{game.gameName}")
    div
      label(for="tag") タグ (複数入力する場合は改行してください)
      textarea(id="tag" name="tag" cols="30" rows="10") #{tags}
    div
      label(for="public") 非公開
      input(id="public" type="radio" name="privacy" value="0")
      label(for="private") 公開
      input(id="private" type="radio" name="privacy" value="1")
    div
      button(type="submit" name="privacy" value="0") 非公開で保存
      button(type="submit" name="privacy" value="1") 公開で保存


  form(method="post" action="/games/#{game.gameId}/stages")
    label(for="stageTitle") ステージタイトル
    input(id="stageTitle" type="text" name="stageTitle")
    label(for="stageContent") ステージコンテンツ
    textarea(id="stageContent" name="stageContent", cols="30", rows="10")
    button(type="submit") ステージの追加

  each stage in stages
    p #{stage.stageTitle}
    p(style="white-space:pre;") #{stage.stageContent}
    form(method="post" action="/games/#{game.gameId}/stages?delete=1")
      input(type="hidden" name="stageId" value="#{stage.stageId}")
      button(type="submit") このステージを削除する

  h3 危険な変更
  form(method="post" action="/games/#{game.gameId}?delete=1")
    button(type="submit") この予定を削除する
